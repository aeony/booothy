services:
    # Application
    ## Service
    photo.application.service.get_complete_collection:
        alias : photo.application.service.get_complete_collection.with_marshaller

    photo.application.service.get_complete_collection.with_marshaller:
        class     : Booothy\Core\Application\Service\Marshaller\UseCase
        public    : false
        arguments :
            - @photo.application.service.get_complete_collection.implementation
            - @photo.application.marshaller.collection

    photo.application.service.get_complete_collection.implementation:
        class     : Booothy\Photo\Application\Service\GetCompleteCollection\UseCase
        public    : false
        arguments :
            - @photo.domain.repository.loader

    ## Marshaller
    photo.application.marshaller.collection:
        class  : Booothy\Photo\Application\Marshaller\Collection
        public : false


    # Domain
    ## Hydrator
    photo.domain.hydrator.photo_collection:
        alias  : photo.infrastructure.hydrator.mongo.photo_collection
        public : false

    ## Repository
    photo.domain.repository.loader:
        alias  : photo.infrastructure.repository.mongo.loader
        public : false


    # Infrastructure
    ## Hydrator
    photo.infrastructure.hydrator.mongo.photo_collection:
        class: Booothy\Photo\Infrastructure\Hydrator\Mongo\PhotoCollection

    ## Repository
    photo.infrastructure.repository.mongo.loader:
        class     : Booothy\Photo\Infrastructure\Repository\Mongo\Loader
        public    : false
        arguments :
            - @app.mongo.collection.photo
            - @photo.domain.hydrator.photo_collection
